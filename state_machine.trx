Â§StateMachine|description:A symbolic branching and looping example _|

#comment|Initialize the current symbolic state _|
#current_state|idle _|

#comment|Declare the full set of symbolic states _|
#states|idle,loading,active,error,shutdown _|

#comment|Log the current state symbolically _|
!|log:Current state is:#current_state _|

#comment|Define symbolic branching behavior (match-case simulation) _|
#actions|                         
    idle:log:System is resting;
    loading:log:System is loading;
    active:log:System is running;
    error:log:System encountered a failure;
    shutdown:log:System is shutting down
_|

#comment|Evaluate the matching symbolic action based on current state _|
#matched_action|!|#actions:#current_state _| _|

#comment|Perform symbolic conditional branching _|
!?|condition:#current_state:active   
    !|log:We are in active state _|  
_| 
|!|log:Not active but:#current_state _| _|

#comment|Declare a list of values to iterate over _|
#loop_input|one,two,three _|

#comment|Begin symbolic iteration (stream evaluation) _|
!|log:Beginning symbolic loop _|

#comment|Iterate over loop_input and log each symbolic value _|
!|#loop_input _|                 
    !|log:Processing item _|       
_|
